# О WebSoft HCM

## Bведение

### Основные сведения

_WebSoft HCM_ – открытая система, включающая в себя встроенные инструменты разработки. Они позволяют самостоятельно дорабатывать необходимые компоненты для автоматизации требуемых бизнес-процессов. Это позволяет эффективно использовать WebSoft HCM для решения самых разнообразных HR-задач с учетом всех нюансов их организации в компании.

WebSoft HCM основывается на платформе SP-XML, которая включает в себя средства для описания структур данных, экранных форм, интерпретатор языка JavaScript, средства интеграции с внешними системами и работы с сетевыми протоколами и т.п. С подробной документацией по платформе можно ознакомиться [здесь](http://docs.datex.ru). В ней можно найти такие сведения, как описание [встроенных функций](http://docs.datex.ru/article.htm?id=5620276905286592550), [объектов](http://docs.datex.ru/article.htm?id=5665465792879477001) и [глобальных переменных](http://docs.datex.ru/article.htm?id=5620276905286592643), [правила описания экранных форм](http://docs.datex.ru/article.htm?id=5665465792879477168), [описание языка XQuery](http://docs.datex.ru/article.htm?id=5620203358492510995), который используется для обработки данных в формате XML, и многое другое.

### Архитектура

Общая архитектура системы описана здесь. Рекомендуем обратить внимание на принципы хранения данных в системе, а также особенности работы с разными СУБД. Необходимой информацией для программистов является справочник каталогов системы, а также каталогов-связок, которые используются для "связывания" между собой объектов разных типов и не показываются пользователям в явном виде.

Будет полезно ознакомиться с конфигурационными файлами WebSoft HCM и содержащимися в них параметрами. Особое внимание следует обратить на spxml_unibridge_config.xml, с помощью которого настраивается компонент Unibridge, обеспечивающий взаимодействие с СУБД.

Решение WebSoft HCM основано на клиент-серверной технологии, в которой фронтенд явным образом отделен от бэкенда.

К основным элементам бэкенда относятся показатели (возвращают 1 или несколько расчетных значений), выборки (возвращают массивы объектов) и удаленные действия (выполняют операции, изменяют данные в БД). В комплект поставки входит большой набор этих элементов (реестр размещен здесь). Кроме того, их можно создавать самостоятельно. Все эти элементы могут содержать собственный программный код, а также использовать готовые функции из библиотек программного кода.

К фронтенду относятся веб-страницы (интерфейс для пользователей) и приложения (интерфейс для бизнес-администраторов). Веб-страницы создаются с помощью редактора страниц из виджетов, в которых используются элементы бэкенда. Подробное описание редактора страниц для программистов, включая особенности разработки выборок, показателей и удаленных действий, приведено здесь.

Приложения формируются в специальном конструкторе на основе тех же элементов. Таким образом, одни и те же выборки и удаленные действия могут использоваться в обоих интерфейсах.

Взаимодействие между фронтендом и бэкендом осуществляется с помощью API.

Также часто возникает необходимость в разработке агентов сервера (программный код, который запускается с указанной периодичностью, используется для автоматизации выполнения операций), настраиваемых отчетов (произвольные отчеты по данным, содержащимся в системе) и пр.

### Программирование

Для разработки бэкенда в WebSoft HCM может использоваться серверный JavaScript (подробности приведены тут и тут) или C#.

Основным хранилищем программного кода являются библиотеки, которые содержат в себе функции. Именно эти функции вызываются в показателях, удаленных действиях, выборках, агентах и пр. В комплект поставки входит два типа библиотек: библиотеки ядра система и функциональные библиотеки. В первых содержатся базовые, общие функции, а во вторых – функции по работе с модулями WebSoft HCM. Например, в библиотеке ядра Tools можно найти функции для преобразования данных, работы со строками и массивами, файловой системой, документами XML и т.п. А в функциональной библиотеке libKnowledge содержатся функции для работы с картой знаний.

### Особенности разработки разных объектов

При подготовке бэкенда необходимо учитывать особенности разработки разных объектов системы WebSoft HCM. Так, например, достаточно часто возникают вопросы, связанные с организационной структурой: определение руководителей сотрудников, получение иерархии подразделений и т.п. Поэтому рекомендуем ознакомиться с работой функций GetUserBosses и GetSubordinateRecords, а также особенностями каталога person_hierarchys.

Также есть свои особенности при работе с процедурами оценки, уведомлениями, чат-ботами и т.п.

### Примеры

В WebSoft HCM TechNet приведен набор небольших примеров, которые позволяют наглядно увидеть процесс разработки тех или иных объектов системы. Найти их можно тут.

Кроме того, в качестве примеров можно использовать программный код, входящий в комплект поставки системы.
